<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>购物车</title>
	<link rel="stylesheet" type="text/css" href="css/shop.css">
	<body>
		<!-- header -->
<div class="hdtop">
	<div class="toper">
		<a href="index.html"><img src="img/shouye.jpg"></a>
		<h1>我的购物车</h1>
		<a href="">注册</a>
		<a href="">登录</a>
		
	</div>
	
</div>

<!-- 购物车 -->


<div class="shop">

	<div class="box">
		<h2>商品信息</h2>
			<div class="header">
				<p>购物车</p>

				<p>价格</p>
				<p>数量</p>
			</div>
			
				<hr />
				<div class="content-item">
					<div class="shop-info">
						<div class="shop-info-img">
							<img src="img/c1.jpg"/>
						</div>
						<div class="shop-info-text">
							<p><a href="javascript;">BeeFo小唱机</a>
							</p><p>礼物颜色：奶白色</p>
							<p class="haveGoods">现在有货</p>
							<p>此商品可享受免费配送</p>
							<p><span class="deleteBtn">删除</span>|<span>移入收藏夹</span></p>
						</div>
						<div class="shop-info-price">
							￥399.00
						</div>
						<div class="shop-info-number">
							<input type="number" id="shop2-numIn" value="1" shopPrice="39.80" />
						</div>
					</div>
				</div>
				<hr />
			</div>
			<div class="footer">
				<span>小计(1件商品)：</span>
				<span>￥399.0</span>
			</div>
			<a href="#"  class="shoopput">结算</a>
</div>

<div class="end">

		<div class="endbootom">
			<div class="endone">
				<img src="img/50.jpg">
				<p>30天免费退换货</p>	
			</div>
			<div class="endone">
				<img src="img/50.jpg">
				<p>30天免费退换货</p>	
			</div>
			<div class="endone">
				<img src="img/50.jpg">
				<p>30天免费退换货</p>	
			</div>
			<div class="endone">
				<img src="img/50.jpg">
				<p>30天免费退换货</p>	
			</div>			
		</div>

		<div class="endtwo">
			<p>© liwuyou.com</p>
			<a href="#"  class="endtwoa">粤ICP备10222238号-1</a>
				<p class="endtwob">
				<a href="#">关于我们</a><span>|</span>
				<a href="#">帮助中心</a><span>|</span>
				<a href="#">人才招聘</a><span>|</span>
				<a href="#">售后服务</a><span>|</span>
				<a href="#">配送与验收</a><span>|</span>
				<a href="#">联系我们</a><span>|</span> 
				</p>
		</div>

		<div class="endthree">
			<div class="lianjie">
				<a >友情链接</a><a href="http://www.yofus.com/" target="_blank">照片书</a><a href="http://www.shouliwang.com/" target="_blank">厦门特产</a><a href="http://www.163yu.com/" target="_blank">新疆和田玉</a><a href="http://www.nzjsw.com/" target="_blank">健身减肥 </a><a href="http://www.iyingji.com" target="_blank">网上冲印</a><a href="http://www.crd.cn" target="_blank">钻戒定制</a><a href="http://www.51pot.com/" target="_blank">紫砂壶</a><a href="http://www.doido.com/" target="_blank">钻石</a><a href="http://www.yipihuo.com" target="_blank">批发网</a><a href="http://www.yichao.cn" target="_blank">眼镜</a><a href="http://www.hua.com/" target="_blank">中国鲜花礼品网</a><a href="http://www.beefo.cn/" target="_blank">BeeFo品牌官网</a><a href="http://www.7192.com/" target="_blank">影楼网</a><a href="http://www.hifidiy.net/" target="_blank">中国音响</a><a href="http://www.zhibitouzi.com/" target="_blank">人民币收藏 </a><a href="http://www.obolee.com/" target="_blank">欧宝丽官网</a><a href="http://www.7dapei.com/" target="_blank">服装搭配 </a><a href="http://www.shoes.net.cn/" target="_blank">鞋</a><a href="http://www.zhidiy.com/" target="_blank">纸艺网</a><a href="http://www.ynshangji.com/" target="_blank">商机网</a><a href="http://www.temaiku.com/" target="_blank">唯品会品牌折扣网</a><a href="http://www.53shop.com/" target="_blank">53货源网</a><a href="http://www.inshion.com/" target="_blank">型尚网 </a><a href="http://www.51fashion.com.cn/" target="_blank">饰品招商加盟</a><a href="http://www.taoxie.com/" target="_blank">好乐淘买鞋</a><a href="http://www.wine9.com/" target="_blank">红酒</a><a href="http://www.52hua.cn/" target="_blank">鲜花网</a><a href="http://www.yimianmian.com/" target="_blank">意绵绵珠宝</a><a href="http://www.ynhmw.com/" target="_blank">云南花木网</a><a href="http://www.lipin-bj.cn/" target="_blank">北京礼品公司</a><a href="http://www.haole.com/ " target="_blank">好乐美饰</a><a href="http://www.hznzcn.com/ " target="_blank">微商货源网</a><a href="http://www.onlylady.com/ " target="_blank">Onlylady女人志</a><a href="http://www.kimiss.com/ " target="_blank">闺蜜网</a><a href="http://www.jieqinwang.com " target="_blank">婚车租赁</a><a href="http://www.china-ef.com/ " target="_blank">中国品牌服装网</a><a href="http://www.meidebi.com/ " target="_blank">比价</a><a href="https://www.withloveco.cn/" target="_blank">钻戒</a><a href="https://www.ilovezuan.com/" target="_blank">钻石网</a><a >申请友链QQ：59569526</a>
			</div>
			<a href="https://szcert.ebs.org.cn/f0d9b05d-c369-45b6-bc93-3bbcbdf30b11"  class="gongshang"><img src="img/51.jpg"></a>
			
		</div>

	</div>
</head>
<body>
	<script type="text/javascript">
function $(str){
	if(str.charAt(0) == "#"){
		return document.getElementById(str.slice(1));
	}else if(str.charAt(0) == "."){
		return document.getElementsByClassName(str.slice(1));
	}else {
		return document.getElementsByTagName(str);
	}
}


		window.onload=function () {
			changeNum();
			deleteShop();
		}
		
		function changeNum() {
			for (let i=0;i<$("input").length;i++) {
				$("input")[i].onchange=changeShop;
			}
		}
		
		function changeShop () {
			let totleNum=0;
			let totlePrice=0;
			if (this.value<1) {
				this.value=1;
			}
			for (let j=0;j<$("input").length;j++) {
				let price=$("input")[j].parentNode.previousElementSibling.innerHTML;
				//商品价格
				price=Number(price.substring(price.indexOf("￥")+1));
				//商品价格=单价*数量
				let shopPrice=parseFloat(price*($("input")[j].value));
				//商品数量
				let num=Number($("input")[j].value);
				totleNum=totleNum+num;
				totlePrice=totlePrice+shopPrice;
			}
			$(".footer")[0].lastElementChild.innerHTML=Math.round(totlePrice*100)/100;
			$(".footer")[0].firstElementChild.innerHTML="小计("+totleNum+"件商品)：";
		}
		
		function deleteShop () {
			for (let i=0;i<$(".deleteBtn").length;i++) {
				$(".deleteBtn")[i].onclick=function () {
					let delelteCon=confirm("是否删除商品？");
					if (delelteCon) {
						let thisShop=this.parentNode.parentNode.parentNode;
						//使用淡出效果来隐藏该元素
						fadeOut(thisShop);
						setTimeout(changeShop,2200);
					}
				}
			}
		}
		
		function disShop (domObj) {
			let shopName=domObj.children[1].children[0].children[0].innerHTML;
			let curShop=document.createElement("a");
			curShop.href="javascript:;";
			curShop.innerHTML=shopName;
			curShop.style.cssText="margin: 10px 10px 10px 20px;display: inline-block;font-size: 14px;";
			domObj.parentNode.appendChild(curShop);
			let curSpan=document.createElement("span");
			curSpan.innerHTML="从购物车成功删除。";
			curSpan.style.cssText="margin: 10px 0px 10px 0px;display: inline-block;font-size: 14px;";
			domObj.parentNode.appendChild(curSpan);
		}
		
		function fadeOut(domObj) {
			let opaOut=1;
			let myTimer=setInterval(function () {
				opaOut-=0.1;
				if (opaOut<0) {
					opaOut=0;
					disShop(domObj);
					domObj.parentNode.removeChild(domObj);
					clearInterval(myTimer);
				}
				domObj.style.opacity=opaOut;
			},200)
		}
	</script>
</html>
